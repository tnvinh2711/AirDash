<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AugmentWebviewStateStore">
    <option name="stateMap">
      <map>
        <entry key="CHAT_STATE" value="{&quot;agentExecutionMode&quot;:&quot;manual&quot;,&quot;isPanelCollapsed&quot;:true,&quot;displayedAnnouncements&quot;:[],&quot;conversations&quot;:{&quot;4118c838-77a3-4346-b002-14b8e5f67089&quot;:{&quot;id&quot;:&quot;4118c838-77a3-4346-b002-14b8e5f67089&quot;,&quot;createdAtIso&quot;:&quot;2025-12-05T16:14:51.784Z&quot;,&quot;lastInteractedAtIso&quot;:&quot;2025-12-05T16:14:51.784Z&quot;,&quot;chatHistory&quot;:[],&quot;feedbackStates&quot;:{},&quot;toolUseStates&quot;:{},&quot;draftExchange&quot;:{&quot;request_message&quot;:&quot;&quot;,&quot;rich_text_json_repr&quot;:{&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;paragraph&quot;}]},&quot;mentioned_items&quot;:[],&quot;status&quot;:&quot;draft&quot;},&quot;selectedModelId&quot;:&quot;claude-sonnet-4-5&quot;,&quot;requestIds&quot;:[],&quot;isPinned&quot;:false,&quot;isShareable&quot;:false,&quot;extraData&quot;:{&quot;isAgentConversation&quot;:true,&quot;hasDirtyEdits&quot;:false},&quot;personaType&quot;:0},&quot;__NEW_AGENT__&quot;:{&quot;id&quot;:&quot;__NEW_AGENT__&quot;,&quot;createdAtIso&quot;:&quot;2025-12-05T16:14:51.859Z&quot;,&quot;lastInteractedAtIso&quot;:&quot;2025-12-05T16:14:51.859Z&quot;,&quot;chatHistory&quot;:[{&quot;request_id&quot;:&quot;aacb73e3-5bee-40c2-935b-bd07afdac4d2&quot;,&quot;uuid&quot;:&quot;fa0cbbb1-2f3d-4934-be75-17e6bc803e0b&quot;,&quot;chatItemType&quot;:&quot;agentic-checkpoint-delimiter&quot;,&quot;status&quot;:&quot;success&quot;,&quot;fromTimestamp&quot;:0,&quot;toTimestamp&quot;:1764951291860}],&quot;feedbackStates&quot;:{},&quot;toolUseStates&quot;:{},&quot;draftExchange&quot;:{&quot;request_message&quot;:&quot;Update the file `.specify/memory/constitution.md` with the following requirements:\n\n---\n\n# PROJECT CONSTITUTION: FLUX (PEER-TO-PEER FILE SHARING)\n\n## 1. VISION AND CORE PHILOSOPHY\n\nThis project is a cross-platform local file-sharing application built with Flutter, designed to replace LocalSend with a modern, performant architecture.\n\n**Core Principles:**\n- **Privacy First**: No data is stored on intermediate servers; all transfers are peer-to-peer\n- **Offline First**: Fully functional without an Internet connection (LAN/Hotspot only)\n- **Universal Access**: Seamless experience across Mobile (Android, iOS) and Desktop (Windows, macOS, Linux)\n- **High Performance**: 60fps+ UI rendering and maximized data transfer speeds using raw sockets/HTTP\n\n---\n\n## 2. TECHNOLOGY STACK (MANDATORY)\n\nAll generated code must utilize the following libraries and tools. Unauthorized substitutions are prohibited.\n\n### 2.1. Core Framework &amp; Language\n- **SDK Management**: FVM (Flutter Version Management) is required\n- **Framework**: Flutter (Latest Stable Channel via FVM)\n- **Language**: Dart 3.0+ (Full Sound Null Safety)\n\n### 2.2. State Management &amp; Architecture\n- **State Management**: `flutter_riverpod` with `riverpod_generator` (Annotation-based)\n- **Immutability**: `frozen` &amp; `frozen_annotation` for all data classes and state objects\n- **Service Locator**: Riverpod Providers (no GetIt unless strictly necessary)\n\n### 2.3. Data &amp; Storage\n- **Local Database**: `drift` (SQLite abstraction) for history and persistent settings\n- **Preferences**: `shared_preferences` or drift key-value store\n\n### 2.4. UI &amp; Theming\n- **Design System**: Material 3 (`useMaterial3: true`)\n- **Theming Engine**: `flex_color_scheme` for robust dynamic coloring and theme modes\n- **Responsive Utils**: Standard Flutter `LayoutBuilder` and `Constraints` (avoid third-party screen util packages that break desktop resizing)\n\n### 2.5. Navigation\n- **Router**: `go_router` for handling deep links and complex navigation stacks\n\n### 2.6. Networking\n- **Discovery**: `bonsoir` (or platform-specific mDNS implementation) for device discovery\n- **Transfer**: `shelf` (as HTTP Server receiver) and `chopper` (as HTTP Client sender)\n\n---\n\n## 3. ARCHITECTURE AND PROJECT STRUCTURE\n\nThe project follows a strictly typed, **Feature-First Clean Architecture**.\n\n### 3.1. Folder Structure\n```\nlib/\n├── src/\n│   ├── core/          # Shared utilities, extensions, generic widgets, theme config\n│   └── features/      # Each feature contains: data/, domain/, presentation/\n├── app.dart           # Root widget\n└── main.dart          # Entry point\n```\n\n---\n\n## 4. UI/UX AND RESPONSIVE DESIGN GUIDELINES\n\nThe application must strictly adhere to **Responsive Design** principles to support Android, iOS, Windows, macOS, and Linux from a single codebase.\n\n### 4.1. Adaptive Navigation\n- **Mobile/Narrow Screens (&lt; 600dp)**: Use `NavigationBar` (Bottom Tab)\n- **Desktop/Wide Screens (≥ 600dp)**: Use `NavigationRail` (Left-side vertical navigation)\n- The transition between these modes must be fluid upon window resizing\n\n### 4.2. Desktop Specifics (Windows, macOS, Linux)\n- **Window Management**: App must handle window resizing gracefully. Minimum window size constraints must be set to prevent UI breakage\n- **Input Handling**: Support hover states (`MouseRegion`) for interactive elements\n- **Keyboard Shortcuts**: Implement shortcuts for common actions (e.g., Ctrl+V to paste from clipboard, Esc to cancel transfer)\n- **Dialogs**: Use wide, modal dialogs appropriate for desktop contexts, avoiding full-screen mobile-style dialogs on large screens\n\n### 4.3. Material 3 Implementation\n- **Cards**: Use Elevated Cards or Filled Cards with proper surface tint\n- **Color Scheme**: Must support System Light/Dark mode switching automatically on all platforms\n\n---\n\n## 5. DEFINITION OF DONE (STRICT)\n\nA task or feature is only considered complete when **ALL** the following criteria are met. The AI Agent must verify these before submission.\n\n### 5.1. Build Integrity\n- The code must compile and build successfully on at least one Mobile platform (Android/iOS) **AND** one Desktop platform (Windows/macOS/Linux)\n\n### 5.2. Code Quality\n- **Zero Lints**: Run `flutter analyze` and fix ALL warnings, infos, and errors\n- **Formatting**: All code must be formatted using `dart format`\n\n### 5.3. Testing Requirements (90% Coverage)\n- **Unit Tests**: Required for all Domain logic, Repositories, and Riverpod Notifiers\n- **Widget Tests**: Required for critical UI components\n- **Coverage Metric**: `flutter test --coverage` must report ≥ 90% line coverage\n\n### 5.4. Functionality\n- The feature works exactly as described in the specific requirement file\n\n---\n\n## 6. RULES FOR AI AGENT\n\n1. **Do not hallucinate packages**: Only use packages listed in `pubspec.yaml`. Request permission via Spec to add new ones\n2. **Build Runner**: Always trigger code generation for Freezed/Riverpod/Drift when modifying annotated files\n3. **Desktop Awareness**: When writing UI code, always ask: \&quot;How does this look on a 27-inch monitor?\&quot; and \&quot;How does this look on a 5-inch phone?\&quot;\n\n---&quot;,&quot;rich_text_json_repr&quot;:{&quot;type&quot;:&quot;doc&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;paragraph&quot;,&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Update the file `.specify/memory/constitution.md` with the following requirements:&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;---&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;# PROJECT CONSTITUTION: FLUX (PEER-TO-PEER FILE SHARING)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;## 1. VISION AND CORE PHILOSOPHY&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;This project is a cross-platform local file-sharing application built with Flutter, designed to replace LocalSend with a modern, performant architecture.&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;**Core Principles:**&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Privacy First**: No data is stored on intermediate servers; all transfers are peer-to-peer&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Offline First**: Fully functional without an Internet connection (LAN/Hotspot only)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Universal Access**: Seamless experience across Mobile (Android, iOS) and Desktop (Windows, macOS, Linux)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **High Performance**: 60fps+ UI rendering and maximized data transfer speeds using raw sockets/HTTP&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;---&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;## 2. TECHNOLOGY STACK (MANDATORY)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;All generated code must utilize the following libraries and tools. Unauthorized substitutions are prohibited.&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 2.1. Core Framework &amp; Language&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **SDK Management**: FVM (Flutter Version Management) is required&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Framework**: Flutter (Latest Stable Channel via FVM)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Language**: Dart 3.0+ (Full Sound Null Safety)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 2.2. State Management &amp; Architecture&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **State Management**: `flutter_riverpod` with `riverpod_generator` (Annotation-based)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Immutability**: `frozen` &amp; `frozen_annotation` for all data classes and state objects&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Service Locator**: Riverpod Providers (no GetIt unless strictly necessary)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 2.3. Data &amp; Storage&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Local Database**: `drift` (SQLite abstraction) for history and persistent settings&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Preferences**: `shared_preferences` or drift key-value store&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 2.4. UI &amp; Theming&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Design System**: Material 3 (`useMaterial3: true`)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Theming Engine**: `flex_color_scheme` for robust dynamic coloring and theme modes&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Responsive Utils**: Standard Flutter `LayoutBuilder` and `Constraints` (avoid third-party screen util packages that break desktop resizing)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 2.5. Navigation&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Router**: `go_router` for handling deep links and complex navigation stacks&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 2.6. Networking&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Discovery**: `bonsoir` (or platform-specific mDNS implementation) for device discovery&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Transfer**: `shelf` (as HTTP Server receiver) and `chopper` (as HTTP Client sender)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;---&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;## 3. ARCHITECTURE AND PROJECT STRUCTURE&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;The project follows a strictly typed, **Feature-First Clean Architecture**.&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 3.1. Folder Structure&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;```&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;lib/&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;├── src/&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;│   ├── core/          # Shared utilities, extensions, generic widgets, theme config&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;│   └── features/      # Each feature contains: data/, domain/, presentation/&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;├── app.dart           # Root widget&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;└── main.dart          # Entry point&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;```&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;---&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;## 4. UI/UX AND RESPONSIVE DESIGN GUIDELINES&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;The application must strictly adhere to **Responsive Design** principles to support Android, iOS, Windows, macOS, and Linux from a single codebase.&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 4.1. Adaptive Navigation&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Mobile/Narrow Screens (&lt; 600dp)**: Use `NavigationBar` (Bottom Tab)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Desktop/Wide Screens (≥ 600dp)**: Use `NavigationRail` (Left-side vertical navigation)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- The transition between these modes must be fluid upon window resizing&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 4.2. Desktop Specifics (Windows, macOS, Linux)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Window Management**: App must handle window resizing gracefully. Minimum window size constraints must be set to prevent UI breakage&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Input Handling**: Support hover states (`MouseRegion`) for interactive elements&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Keyboard Shortcuts**: Implement shortcuts for common actions (e.g., Ctrl+V to paste from clipboard, Esc to cancel transfer)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Dialogs**: Use wide, modal dialogs appropriate for desktop contexts, avoiding full-screen mobile-style dialogs on large screens&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 4.3. Material 3 Implementation&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Cards**: Use Elevated Cards or Filled Cards with proper surface tint&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Color Scheme**: Must support System Light/Dark mode switching automatically on all platforms&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;---&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;## 5. DEFINITION OF DONE (STRICT)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;A task or feature is only considered complete when **ALL** the following criteria are met. The AI Agent must verify these before submission.&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 5.1. Build Integrity&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- The code must compile and build successfully on at least one Mobile platform (Android/iOS) **AND** one Desktop platform (Windows/macOS/Linux)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 5.2. Code Quality&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Zero Lints**: Run `flutter analyze` and fix ALL warnings, infos, and errors&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Formatting**: All code must be formatted using `dart format`&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 5.3. Testing Requirements (90% Coverage)&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Unit Tests**: Required for all Domain logic, Repositories, and Riverpod Notifiers&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Widget Tests**: Required for critical UI components&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- **Coverage Metric**: `flutter test --coverage` must report ≥ 90% line coverage&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;### 5.4. Functionality&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;- The feature works exactly as described in the specific requirement file&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;---&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;## 6. RULES FOR AI AGENT&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;1. **Do not hallucinate packages**: Only use packages listed in `pubspec.yaml`. Request permission via Spec to add new ones&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;2. **Build Runner**: Always trigger code generation for Freezed/Riverpod/Drift when modifying annotated files&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;3. **Desktop Awareness**: When writing UI code, always ask: \&quot;How does this look on a 27-inch monitor?\&quot; and \&quot;How does this look on a 5-inch phone?\&quot;&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;hardBreak&quot;},{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;---&quot;}]}]},&quot;mentioned_items&quot;:[],&quot;status&quot;:&quot;draft&quot;},&quot;selectedModelId&quot;:&quot;claude-opus-4-5&quot;,&quot;requestIds&quot;:[],&quot;isPinned&quot;:false,&quot;isShareable&quot;:false,&quot;extraData&quot;:{&quot;isAgentConversation&quot;:true,&quot;hasDirtyEdits&quot;:false},&quot;personaType&quot;:0,&quot;rootTaskUuid&quot;:&quot;136471f3-23c3-4c1a-b220-598eaf3d8df9&quot;}},&quot;currentConversationId&quot;:&quot;__NEW_AGENT__&quot;}" />
      </map>
    </option>
  </component>
</project>